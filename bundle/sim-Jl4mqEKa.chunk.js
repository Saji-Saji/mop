import{F as t,V as e,m as a,X as s,a as n,b as l,r as i,I as r,R as o,T as p,f as c,_ as g,J as d,g as S}from"./preset_utils-C08y0zZJ.chunk.js";import{R as m}from"./suggest_reforges_action-B1NagpDI.chunk.js";import{aI as u,aJ as h,T as I,aK as f,g as y,S as v,a as A,b as P,c as R,G as w,aL as T,a6 as k,C as M,f as C,R as O,D as B,I as D,h as H,i as b,m as W,U as x,j as E,F as J,aC as F,A as N,aE as G}from"./detailed_results-l_PUj7md.chunk.js";import{s as L}from"./apl_utils-s8kbSUqv.chunk.js";import{P as j,A as U,N as V,a as _,s as q}from"./shared-L-FG7pC8.chunk.js";const K={inputs:[t({fieldName:"type",label:"Type",values:[{name:"Single Target",value:u.SingleTarget},{name:"AOE",value:u.Aoe}]}),t({fieldName:"sting",label:"Sting",labelTooltip:"Maintains the selected Sting on the primary target.",values:[{name:"None",value:h.NoSting},{name:"Serpent Sting",value:h.SerpentSting}],showWhen:t=>t.getSimpleRotation().type==u.SingleTarget}),e({fieldName:"trapWeave",label:"Trap Weave",labelTooltip:"Uses Explosive Trap at appropriate times. Note that selecting this will disable Black Arrow because they share a CD."}),e({fieldName:"multiDotSerpentSting",label:"Multi-Dot Serpent Sting",labelTooltip:"Casts Serpent Sting on multiple targets",changeEmitter:t=>I.onAny([t.rotationChangeEmitter,t.talentsChangeEmitter])})]},X={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{condition:{cmp:{op:"OpGt",lhs:{currentTime:{}},rhs:{const:{val:"10s"}}}},autocastOtherCooldowns:{}}},{action:{castSpell:{spellId:{spellId:2643}}}},{action:{castSpell:{spellId:{spellId:13812}}}},{action:{castSpell:{spellId:{spellId:77767}}}}]},$={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1s"}}},{action:{castSpell:{spellId:{spellId:13165}}},doAtValue:{const:{val:"-2s"}}},{action:{castSpell:{spellId:{spellId:1130}}},doAtValue:{const:{val:"-3s"}}},{action:{castSpell:{spellId:{spellId:2825,tag:-1}}},doAtValue:{const:{val:"-1s"}}},{action:{},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{and:{vals:[{cmp:{op:"OpEq",lhs:{auraNumStacks:{sourceUnit:{type:"Pet",owner:{type:"Self"}},auraId:{spellId:19622}}},rhs:{const:{val:"5"}}}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:82692}}},rhs:{const:{val:"4s"}}}}]}},castSpell:{spellId:{spellId:82692}}}},{action:{condition:{cmp:{op:"OpGe",lhs:{currentFocus:{}},rhs:{const:{val:"60"}}}},castSpell:{spellId:{spellId:19574}}}},{action:{condition:{not:{val:{dotIsActive:{spellId:{spellId:1978}}}}},castSpell:{spellId:{spellId:1978}}}},{action:{castSpell:{spellId:{spellId:53351}}}},{action:{castSpell:{spellId:{spellId:3045}}}},{action:{castSpell:{spellId:{spellId:34026}}}},{action:{condition:{cmp:{op:"OpLe",lhs:{currentFocus:{}},rhs:{const:{val:"37"}}}},castSpell:{spellId:{spellId:82726}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpGe",lhs:{currentFocus:{}},rhs:{const:{val:"59"}}}},{auraIsActive:{auraId:{spellId:19574}}}]}},castSpell:{spellId:{spellId:3044}}}},{action:{castSpell:{spellId:{spellId:77767}}}}]},z={items:[{id:65206,enchant:4209,gems:[68778,52209],reforging:165},{id:69880,randomSuffix:-135,reforging:151},{id:65208,enchant:4204,gems:[52212],reforging:166},{id:69884,randomSuffix:-135,enchant:1099},{id:65204,enchant:4102,gems:[52212,52220]},{id:65028,enchant:4258,gems:[52212]},{id:65205,enchant:3222,gems:[52212,52212]},{id:65132,gems:[52212,52212]},{id:60230,enchant:3823,gems:[52212,52220,52209]},{id:65063,enchant:4105,gems:[52220]},{id:65082},{id:65367,randomSuffix:-133},{id:65140},{id:65026},{id:65139,enchant:4227,reforging:167},{},{id:65058,enchant:4175,reforging:167}]},Q={items:[{id:71503,enchant:4209,gems:[68778,52209],reforging:151},{id:71610,reforging:166},{id:71403,randomSuffix:-294,enchant:4204,gems:[52258],reforging:167},{id:71415,enchant:4100,gems:[52258,52258],reforging:166},{id:71501,enchant:4102,gems:[52212,52209],reforging:167},{id:71561,enchant:4258,gems:[52212],reforging:152},{id:71502,enchant:4107,gems:[52212,52212],reforging:151},{id:71255,gems:[52212,52212],reforging:166},{id:71504,enchant:4126,gems:[52212,52220],reforging:137},{id:71457,enchant:4105,gems:[52212],reforging:138},{id:71216,gems:[52212],reforging:166},{id:71401,reforging:166},{id:69150},{id:69112},{id:71466,enchant:4227,reforging:165},{},{id:71611,enchant:4267,reforging:151}]},Y=a("BM PreRaid Preset",{items:[{id:59456,enchant:4209,gems:[68778,59478,59493]},{id:52350,gems:[52212]},{id:64712,enchant:4204,gems:[52212],reforging:152},{id:56315,enchant:1099},{id:56564,enchant:4063,gems:[52258],reforging:152},{id:63479,enchant:4071,gems:[0]},{id:64709,enchant:3222,gems:[52212,0],reforging:137},{id:56539,gems:[52212,52212],reforging:165},{id:56386,enchant:4126,gems:[52258,52258]},{id:62385,enchant:4076,gems:[52212],reforging:166},{id:52348,gems:[52212],reforging:167},{id:62362,reforging:166},{id:68709,reforging:166},{id:56328,reforging:137},{id:55066,enchant:4227,reforging:165},{},{id:59367,enchant:4175,gems:[52212],reforging:151}]}),Z=a("BM P1 Preset",z),tt=a("BM T12 Preset",Q),et=f.create({type:u.SingleTarget,sting:h.SerpentSting,trapWeave:!0,multiDotSerpentSting:!0,allowExplosiveShotDownrank:!0});s("Simple Default",y.SpecBeastMasteryHunter,et);const at=n("BM",$),st=n("AOE",X),nt=l("BM P1",v.fromMap({[A.StatAgility]:2.65,[A.StatRangedAttackPower]:1,[A.StatHitRating]:2.12,[A.StatCritRating]:1.19,[A.StatHasteRating]:.97,[A.StatMasteryRating]:.55},{[P.PseudoStatRangedDps]:6.32})),lt=l("BM T12",v.fromMap({[A.StatAgility]:3.03,[A.StatRangedAttackPower]:1,[A.StatHitRating]:2.52,[A.StatCritRating]:1.32,[A.StatHasteRating]:1.14,[A.StatMasteryRating]:.64},{[P.PseudoStatRangedDps]:6.32})),it={name:"Beast Mastery",data:R.create({talentsString:"",glyphs:w.create({})})},rt=T.create({classOptions:{petUptime:1,useHuntersMark:!0,petType:k.Wolf}}),ot=M.create({flaskId:58087,foodId:62290,potId:58145,prepotId:58145,conjuredId:5512}),pt={distanceFromTarget:24,profession1:C.Engineering,profession2:C.Jewelcrafting},ct=i(y.SpecBeastMasteryHunter,{cssClass:"beast-mastery-hunter-sim-ui",cssScheme:E.getCssClass(E.Hunter),knownIssues:[],warnings:[],epStats:[A.StatStamina,A.StatIntellect,A.StatAgility,A.StatRangedAttackPower,A.StatHitRating,A.StatCritRating,A.StatHasteRating,A.StatMP5,A.StatMasteryRating],epPseudoStats:[P.PseudoStatRangedDps],epReferenceStat:A.StatAgility,displayStats:x.createDisplayStatArray([A.StatHealth,A.StatStamina,A.StatAgility,A.StatRangedAttackPower,A.StatMasteryRating],[P.PseudoStatPhysicalHitPercent,P.PseudoStatPhysicalCritPercent,P.PseudoStatRangedHastePercent]),modifyDisplayStats:t=>q(t),itemSwapSlots:[W.ItemSlotMainHand,W.ItemSlotHands,W.ItemSlotTrinket1,W.ItemSlotTrinket2,W.ItemSlotFinger1,W.ItemSlotFinger2],defaults:{gear:tt.gear,epWeights:lt.epWeights,statCaps:(new v).withPseudoStat(P.PseudoStatPhysicalHitPercent,8),other:pt,consumables:ot,talents:it.data,specOptions:rt,raidBuffs:b.create({}),partyBuffs:H.create({}),individualBuffs:D.create({}),debuffs:B.create({})},playerIconInputs:[_()],rotationInputs:K,petConsumeInputs:[],includeBuffDebuffInputs:[g,d],excludeBuffDebuffInputs:[],otherInputs:{inputs:[j(),U(),V(),r,o,p,c]},encounterPicker:{showExecuteProportion:!1},presets:{epWeights:[nt,lt],talents:[it],rotations:[at,st],gear:[tt,Y,Z]},autoRotation:t=>t.sim.encounter.targets.length>=4?st.rotation.rotation:at.rotation.rotation,simpleRotation:(t,e,a)=>{const[s,n]=L(a),l=F.fromJsonString('{"condition":{"not":{"val":{"auraIsActive":{"auraId":{"spellId":12472}}}}},"castSpell":{"spellId":{"otherId":"OtherActionPotion"}}}'),i=F.fromJsonString(`{"condition":{"cmp":{"op":"OpGt","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"6s"}}}},"multidot":{"spellId":{"spellId":49001},"maxDots":${e.multiDotSerpentSting?3:1},"maxOverlap":{"const":{"val":"0ms"}}}}`),r=F.fromJsonString('{"condition":{"auraShouldRefresh":{"auraId":{"spellId":3043},"maxOverlap":{"const":{"val":"0ms"}}}},"castSpell":{"spellId":{"spellId":3043}}}'),o=F.fromJsonString('{"condition":{"not":{"val":{"dotIsActive":{"spellId":{"spellId":49067}}}}},"castSpell":{"spellId":{"tag":1,"spellId":49067}}}'),p=F.fromJsonString('{"castSpell":{"spellId":{"spellId":58434}}}'),c=F.fromJsonString('{"castSpell":{"spellId":{"spellId":61006}}}'),g=F.fromJsonString('{"castSpell":{"spellId":{"spellId":49050}}}'),d=F.fromJsonString('{"castSpell":{"spellId":{"spellId":49048}}}'),S=F.fromJsonString('{"castSpell":{"spellId":{"spellId":49052}}}');return e.type==u.Aoe?n.push(...[l,e.sting==h.ScorpidSting?r:null,e.sting==h.SerpentSting?i:null,e.trapWeave?o:null,p].filter((t=>t))):n.push(...[l,c,e.trapWeave?o:null,e.sting==h.ScorpidSting?r:null,e.sting==h.SerpentSting?i:null,g,d,S].filter((t=>t))),N.create({prepullActions:s,priorityList:n.map((t=>G.create({action:t})))})},raidSimPresets:[{spec:y.SpecBeastMasteryHunter,talents:it.data,specOptions:rt,consumables:ot,defaultFactionRaces:{[J.Unknown]:O.RaceUnknown,[J.Alliance]:O.RaceWorgen,[J.Horde]:O.RaceOrc},defaultGear:{[J.Unknown]:{},[J.Alliance]:{1:Y.gear},[J.Horde]:{1:Y.gear}},otherDefaults:pt}]});class gt extends S{constructor(t,e){super(t,e,ct),e.sim.waitForInit().then((()=>{new m(this,{getEPDefaults:t=>t.getGear().getItemSetCount("Lightning-Charged Battlegear")>=4?nt.epWeights:t.getGear().getItemSetCount("Flamewaker's Battlegear")>=4?lt.epWeights:nt.epWeights})}))}}export{gt as B};
