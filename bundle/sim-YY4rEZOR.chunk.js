import{F as e,V as t,m as a,X as s,a as l,b as n,r as i,I as o,R as r,T as p,f as d,_ as c,J as g,g as S}from"./preset_utils-C08y0zZJ.chunk.js";import{R as m}from"./suggest_reforges_action-B1NagpDI.chunk.js";import{aI as u,aJ as I,T as h,aK as f,g as v,S as P,a as y,b as A,c as R,G as M,aM as T,aL as k,a6 as C,C as w,f as D,R as E,D as H,I as O,h as x,i as b,m as W,U as J,F,aC as G,A as L,aE as N}from"./detailed_results-l_PUj7md.chunk.js";import{s as B}from"./apl_utils-s8kbSUqv.chunk.js";import{P as j,A as V,N as U,a as _,s as q}from"./shared-L-FG7pC8.chunk.js";const K={inputs:[e({fieldName:"type",label:"Type",values:[{name:"Single Target",value:u.SingleTarget},{name:"AOE",value:u.Aoe}]}),e({fieldName:"sting",label:"Sting",labelTooltip:"Maintains the selected Sting on the primary target.",values:[{name:"None",value:I.NoSting},{name:"Scorpid Sting",value:I.ScorpidSting},{name:"Serpent Sting",value:I.SerpentSting}],showWhen:e=>e.getSimpleRotation().type==u.SingleTarget}),t({fieldName:"trapWeave",label:"Trap Weave",labelTooltip:"Uses Explosive Trap at appropriate times. Note that selecting this will disable Black Arrow because they share a CD."}),t({fieldName:"multiDotSerpentSting",label:"Multi-Dot Serpent Sting",labelTooltip:"Casts Serpent Sting on multiple targets",changeEmitter:e=>h.onAny([e.rotationChangeEmitter,e.talentsChangeEmitter])})]},X={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{castSpell:{spellId:{spellId:13812}}}},{action:{castSpell:{spellId:{spellId:2643}}}},{action:{castSpell:{spellId:{spellId:56641}}}}]},$={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{spellId:13812}}},doAtValue:{const:{val:"-25s"}}},{action:{castSpell:{spellId:{spellId:1130}}},doAtValue:{const:{val:"-11s"}}},{action:{castSpell:{spellId:{spellId:13165}}},doAtValue:{const:{val:"-10s"}}},{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-3s"}}},{action:{castSpell:{spellId:{spellId:19434}}},doAtValue:{const:{val:"-3s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{auraIsInactiveWithReactionTime:{auraId:{spellId:3045}}},castSpell:{spellId:{spellId:3045}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpLe",lhs:{spellCastTime:{spellId:{spellId:19434}}},rhs:{const:{val:"1s"}}}},{isExecutePhase:{threshold:"E90"}}]}},castSpell:{spellId:{spellId:19434}}}},{action:{condition:{or:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:53221,tag:1}}}}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:53221,tag:1}}},rhs:{const:{val:"3s"}}}}]}},castSpell:{spellId:{spellId:56641}}}},{action:{condition:{and:{vals:[{not:{val:{isExecutePhase:{threshold:"E90"}}}},{spellCanCast:{spellId:{spellId:53209}}},{spellCanCast:{spellId:{spellId:23989}}}]}},strictSequence:{actions:[{castSpell:{spellId:{spellId:53209}}},{castSpell:{spellId:{spellId:23989}}}]}}},{action:{condition:{and:{vals:[{not:{val:{dotIsActive:{spellId:{spellId:1978}}}}},{not:{val:{isExecutePhase:{threshold:"E90"}}}}]}},castSpell:{spellId:{spellId:1978}}}},{action:{condition:{not:{val:{isExecutePhase:{threshold:"E90"}}}},castSpell:{spellId:{spellId:53209}}}},{action:{condition:{spellCanCast:{spellId:{spellId:53351}}},castSpell:{spellId:{spellId:53351}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpGe",lhs:{currentFocus:{}},rhs:{const:{val:"66"}}}},{cmp:{op:"OpGe",lhs:{spellTimeToReady:{spellId:{spellId:53209}}},rhs:{const:{val:"4"}}}}]}},castSpell:{spellId:{spellId:3044}}}},{action:{castSpell:{spellId:{spellId:56641}}}}]},z={items:[{id:65206,enchant:4209,gems:[68778,52209],reforging:165},{id:69880,randomSuffix:-135,reforging:151},{id:65208,enchant:4204,gems:[52212],reforging:166},{id:69884,randomSuffix:-135,enchant:1099},{id:65204,enchant:4102,gems:[52212,52220]},{id:65028,enchant:4258,gems:[52212]},{id:65205,enchant:3222,gems:[52212,52212]},{id:65132,gems:[52212,52212]},{id:60230,enchant:3823,gems:[52212,52220,52209]},{id:65063,enchant:4105,gems:[52220]},{id:65082},{id:65367,randomSuffix:-133},{id:65140},{id:65026},{id:65139,enchant:4227,reforging:167},{},{id:65058,enchant:4175,reforging:167}]},Q={items:[{id:71503,enchant:4209,gems:[68778,52209],reforging:154},{id:71610,reforging:152},{id:71403,randomSuffix:-294,enchant:4204,gems:[52258]},{id:71415,enchant:4100,gems:[52258,52258],reforging:137},{id:71501,enchant:4102,gems:[52212,52209]},{id:71561,enchant:4258,gems:[52212],reforging:154},{id:71502,enchant:4107,gems:[52212,52212],reforging:154},{id:71255,gems:[52212,52212],reforging:151},{id:71504,enchant:4126,gems:[52212,52220],reforging:154},{id:71457,enchant:4105,gems:[52212]},{id:71216,gems:[52212],reforging:152},{id:71401,reforging:152},{id:69150},{id:69112},{id:71466,enchant:4227,reforging:144},{},{id:71611,enchant:4267,reforging:154}]},Y=a("MM PreRaid Preset",{items:[{id:59456,enchant:4209,gems:[68778,59478,59493]},{id:52350,gems:[52212]},{id:64712,enchant:4204,gems:[52212],reforging:152},{id:56315,enchant:1099},{id:56564,enchant:4063,gems:[52258],reforging:152},{id:63479,enchant:4071,gems:[0]},{id:64709,enchant:3222,gems:[52212,0],reforging:137},{id:56539,gems:[52212,52212],reforging:165},{id:56386,enchant:4126,gems:[52258,52258]},{id:62385,enchant:4076,gems:[52212],reforging:166},{id:52348,gems:[52212],reforging:167},{id:62362,reforging:166},{id:68709,reforging:166},{id:56328,reforging:137},{id:55066,enchant:4227,reforging:165},{},{id:59367,enchant:4175,gems:[52212],reforging:151}]}),Z=a("MM P1 Preset",z),ee=a("MM T12 Preset",Q),te=f.create({type:u.SingleTarget,sting:I.SerpentSting,trapWeave:!0,multiDotSerpentSting:!0,allowExplosiveShotDownrank:!0});s("Simple Default",v.SpecMarksmanshipHunter,te);const ae=l("MM",$),se=l("AOE",X),le=n("MM P1",P.fromMap({[y.StatAgility]:3.05,[y.StatRangedAttackPower]:1,[y.StatHitRating]:2.25,[y.StatCritRating]:1.39,[y.StatHasteRating]:1.33,[y.StatMasteryRating]:1.15},{[A.PseudoStatRangedDps]:6.32})),ne=n("MM P3 (T12 4-set)",P.fromMap({[y.StatAgility]:3.05,[y.StatRangedAttackPower]:1,[y.StatHitRating]:2.79,[y.StatCritRating]:1.47,[y.StatHasteRating]:.9,[y.StatMasteryRating]:1.39},{[A.PseudoStatRangedDps]:7.33})),ie={name:"Marksman",data:R.create({talentsString:"",glyphs:M.create({major1:T.GlyphOfDisengage})})},oe=k.create({classOptions:{useHuntersMark:!0,petType:C.Wolf,petUptime:1}}),re=w.create({flaskId:58087,foodId:62290,potId:58145,prepotId:58145,conjuredId:5512}),pe={distanceFromTarget:24,profession1:D.Engineering,profession2:D.Jewelcrafting},de=i(v.SpecMarksmanshipHunter,{cssClass:"marksmanship-hunter-sim-ui",cssScheme:"hunter",knownIssues:[],warnings:[],epStats:[y.StatStamina,y.StatIntellect,y.StatAgility,y.StatRangedAttackPower,y.StatHitRating,y.StatCritRating,y.StatHasteRating,y.StatMP5,y.StatMasteryRating],epPseudoStats:[A.PseudoStatRangedDps],epReferenceStat:y.StatAgility,displayStats:J.createDisplayStatArray([y.StatHealth,y.StatStamina,y.StatAgility,y.StatRangedAttackPower,y.StatMasteryRating],[A.PseudoStatPhysicalHitPercent,A.PseudoStatPhysicalCritPercent,A.PseudoStatRangedHastePercent]),modifyDisplayStats:e=>q(e),itemSwapSlots:[W.ItemSlotMainHand,W.ItemSlotHands,W.ItemSlotTrinket1,W.ItemSlotTrinket2,W.ItemSlotFinger1,W.ItemSlotFinger2],defaults:{gear:ee.gear,epWeights:ne.epWeights,statCaps:(new P).withPseudoStat(A.PseudoStatPhysicalHitPercent,8),other:pe,consumables:re,talents:ie.data,specOptions:oe,raidBuffs:b.create({}),partyBuffs:x.create({}),individualBuffs:O.create({}),debuffs:H.create({})},playerIconInputs:[_()],rotationInputs:K,petConsumeInputs:[],includeBuffDebuffInputs:[c,g],excludeBuffDebuffInputs:[],otherInputs:{inputs:[j(),V(),U(),o,r,p,d]},encounterPicker:{showExecuteProportion:!0},presets:{epWeights:[le,ne],talents:[ie],rotations:[ae,se],gear:[ee,Y,Z]},autoRotation:e=>e.sim.encounter.targets.length>=4?se.rotation.rotation:ae.rotation.rotation,simpleRotation:(e,t,a)=>{const[s,l]=B(a),n=G.fromJsonString('{"condition":{"not":{"val":{"auraIsActive":{"auraId":{"spellId":12472}}}}},"castSpell":{"spellId":{"otherId":"OtherActionPotion"}}}'),i=G.fromJsonString(`{"condition":{"cmp":{"op":"OpGt","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"6s"}}}},"multidot":{"spellId":{"spellId":49001},"maxDots":${t.multiDotSerpentSting?3:1},"maxOverlap":{"const":{"val":"0ms"}}}}`),o=G.fromJsonString('{"condition":{"auraShouldRefresh":{"auraId":{"spellId":3043},"maxOverlap":{"const":{"val":"0ms"}}}},"castSpell":{"spellId":{"spellId":3043}}}'),r=G.fromJsonString('{"condition":{"not":{"val":{"dotIsActive":{"spellId":{"spellId":49067}}}}},"castSpell":{"spellId":{"tag":1,"spellId":49067}}}'),p=G.fromJsonString('{"castSpell":{"spellId":{"spellId":58434}}}'),d=G.fromJsonString('{"castSpell":{"spellId":{"spellId":61006}}}'),c=G.fromJsonString('{"castSpell":{"spellId":{"spellId":49050}}}'),g=G.fromJsonString('{"castSpell":{"spellId":{"spellId":49048}}}'),S=G.fromJsonString('{"castSpell":{"spellId":{"spellId":49052}}}'),m=G.fromJsonString('{"castSpell":{"spellId":{"spellId":34490}}}'),h=G.fromJsonString('{"castSpell":{"spellId":{"spellId":53209}}}');return t.type==u.Aoe?l.push(...[n,t.sting==I.ScorpidSting?o:null,t.sting==I.SerpentSting?i:null,t.trapWeave?r:null,p].filter((e=>e))):l.push(...[n,m,d,t.sting==I.ScorpidSting?o:null,t.sting==I.SerpentSting?i:null,t.trapWeave?r:null,h,c,g,S].filter((e=>e))),L.create({prepullActions:s,priorityList:l.map((e=>N.create({action:e})))})},raidSimPresets:[{spec:v.SpecMarksmanshipHunter,talents:ie.data,specOptions:oe,consumables:re,defaultFactionRaces:{[F.Unknown]:E.RaceUnknown,[F.Alliance]:E.RaceWorgen,[F.Horde]:E.RaceTroll},defaultGear:{[F.Unknown]:{},[F.Alliance]:{1:Y.gear},[F.Horde]:{1:Y.gear}},otherDefaults:pe}]});class ce extends S{constructor(e,t){super(e,t,de),t.sim.waitForInit().then((()=>{new m(this,{getEPDefaults:e=>e.getGear().getItemSetCount("Lightning-Charged Battlegear")>=4?le.epWeights:e.getGear().getItemSetCount("Flamewaker's Battlegear")>=4?ne.epWeights:le.epWeights})}))}}export{ce as M};
